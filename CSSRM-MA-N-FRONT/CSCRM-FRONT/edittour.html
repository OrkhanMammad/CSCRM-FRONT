<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Tour</title>
    <link rel="stylesheet" href="edittour.css">
</head>

<body>
    <div class="navbar">
        <ul class="navbar-list">
            <li class="navbar-item"><a href="hotels.html">Hotels</a></li>
            <li class="navbar-item"><a href="companies.html">Companies</a></li>
            <li class="navbar-item"><a href="clients.html">Clients</a></li>
            <li class="navbar-item"><a href="tours.html">Tours</a></li>
            <li class="navbar-item"><a href="cartypes.html">Car Types</a></li>
            <li class="navbar-item"><a href="toursbycartypes.html">Tours By Car Types</a></li>
        </ul>
    </div>
    <div class="tour-edit-page-content">
        <div class="tour-edit-page-container">
            <h3 class="tour-edit-page-title">Edit Tour</h3>
            <table class="tour-edit-page-tour-table">
                <thead class="tour-edit-page-tour-thead">
                    <tr>
                        <th>Tour Name</th>
                        <th>Itineraries</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" id="edit-tourName-input" value="City Tour" class="tour-edit-page-input"></td>
                        <td>
                            <div id="edit-itineraryInputs">
                                <input type="text" name="edit-itinerary0" value="Day 1: City Center" class="tour-edit-page-input">
                                <input type="text" name="edit-itinerary1" value="Day 2: Museum" class="tour-edit-page-input">
                                <input type="text" name="edit-itinerary2" value="Day 3: Park" class="tour-edit-page-input">
                            </div>
                            <button onclick="addItineraryInput()" class="tour-edit-page-tour-btn tour-edit-page-tour-btn-add">Add Itinerary</button>
                        </td>
                        <td>
                            <button onclick="updateTour()" class="tour-edit-page-tour-btn tour-edit-page-tour-btn-primary">Update Tour</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script>
        let editItineraryCount = 3;

        function addItineraryInput() {
            const itineraryInputs = document.getElementById('edit-itineraryInputs');
            const input = document.createElement('input');
            input.type = 'text';
            input.name = `edit-itinerary${editItineraryCount}`;
            input.placeholder = 'Itinerary';
            input.className = 'tour-edit-page-input';
            itineraryInputs.appendChild(input);

            editItineraryCount++;
        }

        function updateTour() {
            const name = document.getElementById('edit-tourName-input').value;
            const itineraries = [];

            for (let i = 0; i < editItineraryCount; i++) {
                const itineraryInput = document.getElementsByName(`edit-itinerary${i}`)[0];
                if (itineraryInput && itineraryInput.value.trim() !== '') {
                    itineraries.push(itineraryInput.value.trim());
                }
            }

            if (!name || itineraries.length === 0) {
                alert('All fields are required.');
                return;
            }

            console.log(name, itineraries);
            // Burada güncelleme için gerekli API isteği yapılabilir, fetch kullanılabilir.
            // fetch('your-api-endpoint', {
            //     method: 'PUT',
            //     headers: {
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({
            //         Name: name,
            //         Itineraries: itineraries
            //     })
            // })
            // .then(response => {
            //     if (response.ok) {
            //         window.location.reload();
            //     } else {
            //         alert('Error updating tour.');
            //     }
            // });
        }
    </script>
</body>

</html>
