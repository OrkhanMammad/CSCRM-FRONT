<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Tour Service</title>
    <link rel="stylesheet" type="text/css" href="edittourservice.css" />
</head>

<body>
    <div class="navbar">
        <ul class="navbar-list">
            <li class="navbar-item"><a href="hotels.html">Hotels</a></li>
            <li class="navbar-item"><a href="companies.html">Companies</a></li>
            <li class="navbar-item"><a href="clients.html">Clients</a></li>
            <li class="navbar-item"><a href="tours.html">Tours</a></li>
            <li class="navbar-item"><a href="cartypes.html">Car Types</a></li>
            <li class="navbar-item"><a href="toursbycartypes.html">Tours By Car Types</a></li>
        </ul>
    </div>
    <div class="EditTourServiceContent">
        <h2 class="EditTourServicePageHead">Edit Tour Service</h2>

        <div class="EditTourServiceClientInfo">
            <h3>Client Info</h3>
            <div class="EditTourServiceClientDetails">
                <p><strong>Code:</strong> <span id="clientCode">12345</span></p>
                <p><strong>Name:</strong> <span id="clientName">John</span></p>
                <p><strong>Surname:</strong> <span id="clientSurname">Doe</span></p>
                <p><strong>Phone:</strong> <span id="clientPhone">555-1234</span></p>
            </div>
        </div>

        <div class="EditTourServiceContainer">
            <h3>Edit Tour Service</h3>
            <div class="EditTourService">
                <select id="edit-tourService-tourName" class="EditTourServiceInput">
                    <option value="" disabled selected>Select Tour</option>
                    <option value="City Tour">City Tour</option>
                    <option value="Mountain Trip">Mountain Trip</option>
                    <option value="Beach Tour">Beach Tour</option>
                    <!-- Diğer turlar buraya eklenecek -->
                </select>
                <select id="edit-tourService-carTypeName" class="EditTourServiceInput">
                    <option value="" disabled selected>Select Car Type</option>
                    <option value="Sedan">Sedan</option>
                    <option value="SUV">SUV</option>
                    <option value="Van">Van</option>
                    <!-- Diğer araç tipleri buraya eklenecek -->
                </select>
                <select id="edit-tourService-guide" class="EditTourServiceInput">
                    <option value="" disabled selected>Guide</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <input type="date" id="edit-tourService-tourDate" class="EditTourServiceInput" />
                <button onclick="updateTourService()" class="EditTourServiceBtn EditTourServiceBtnPrimary">Update Service</button>
            </div>
        </div>
    </div>

    <script>
        // Dummy data for client and service details
        const client = {
            code: '12345',
            name: 'John',
            surname: 'Doe',
            phone: '555-1234'
        };

        const service = {
            tourName: 'City Tour',
            carTypeName: 'SUV',
            guide: 'Yes',
            tourDate: '2023-06-12'
        };

        // Populate the fields with existing service data
        document.getElementById('clientCode').innerText = client.code;
        document.getElementById('clientName').innerText = client.name;
        document.getElementById('clientSurname').innerText = client.surname;
        document.getElementById('clientPhone').innerText = client.phone;

        document.getElementById('edit-tourService-tourName').value = service.tourName;
        document.getElementById('edit-tourService-carTypeName').value = service.carTypeName;
        document.getElementById('edit-tourService-guide').value = service.guide;
        document.getElementById('edit-tourService-tourDate').value = service.tourDate;

        function updateTourService() {
            const tourName = document.getElementById('edit-tourService-tourName').value;
            const carTypeName = document.getElementById('edit-tourService-carTypeName').value;
            const guide = document.getElementById('edit-tourService-guide').value;
            const tourDate = document.getElementById('edit-tourService-tourDate').value;

            if (!tourName || !carTypeName || !guide || !tourDate) {
                alert('All fields are required.');
                return;
            }

            fetch('your-api-endpoint', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    TourName: tourName,
                    CarTypeName: carTypeName,
                    Guide: guide,
                    Date: tourDate
                })
            })
                .then(response => {
                    if (response.ok) {
                        alert('Service updated successfully.');
                        // Yönlendirme veya başka bir işlem yapılabilir
                    } else {
                        alert('Error updating service.');
                    }
                });
        }
    </script>
</body>

</html>
